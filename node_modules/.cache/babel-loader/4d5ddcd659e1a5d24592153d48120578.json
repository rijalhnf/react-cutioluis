{"ast":null,"code":"import { useEvent } from 'rc-util';\nimport raf from \"rc-util/es/raf\";\nimport isVisible from \"rc-util/es/Dom/isVisible\";\nimport * as React from 'react';\nvar SPEED_PTG = 1 / 3;\nexport default function useScrollTo(ulRef, value) {\n  // ========================= Scroll =========================\n  var scrollingRef = React.useRef(false);\n  var scrollRafRef = React.useRef(null);\n  var scrollDistRef = React.useRef(null);\n\n  var isScrolling = function isScrolling() {\n    return scrollingRef.current;\n  };\n\n  var stopScroll = function stopScroll() {\n    raf.cancel(scrollRafRef.current);\n    scrollingRef.current = false;\n  };\n\n  var scrollRafTimesRef = React.useRef();\n\n  var startScroll = function startScroll() {\n    var ul = ulRef.current;\n    scrollDistRef.current = null;\n    scrollRafTimesRef.current = 0;\n\n    if (ul) {\n      var targetLi = ul.querySelector(\"[data-value=\\\"\".concat(value, \"\\\"]\"));\n      var firstLi = ul.querySelector(\"li\");\n\n      var doScroll = function doScroll() {\n        stopScroll();\n        scrollingRef.current = true;\n        scrollRafTimesRef.current += 1;\n        var currentTop = ul.scrollTop;\n        var firstLiTop = firstLi.offsetTop;\n        var targetLiTop = targetLi.offsetTop;\n        var targetTop = targetLiTop - firstLiTop; // Wait for element exist. 5 frames is enough\n\n        if (targetLiTop === 0 && targetLi !== firstLi || !isVisible(ul)) {\n          if (scrollRafTimesRef.current <= 5) {\n            scrollRafRef.current = raf(doScroll);\n          }\n\n          return;\n        }\n\n        var nextTop = currentTop + (targetTop - currentTop) * SPEED_PTG;\n        var dist = Math.abs(targetTop - nextTop); // Break if dist get larger, which means user is scrolling\n\n        if (scrollDistRef.current !== null && scrollDistRef.current < dist) {\n          stopScroll();\n          return;\n        }\n\n        scrollDistRef.current = dist; // Stop when dist is less than 1\n\n        if (dist <= 1) {\n          ul.scrollTop = targetTop;\n          stopScroll();\n          return;\n        } // IE not support `scrollTo`\n\n\n        ul.scrollTop = nextTop;\n        scrollRafRef.current = raf(doScroll);\n      };\n\n      if (targetLi && firstLi) {\n        doScroll();\n      }\n    }\n  }; // ======================== Trigger =========================\n\n\n  var syncScroll = useEvent(startScroll);\n  return [syncScroll, stopScroll, isScrolling];\n}","map":{"version":3,"names":["useEvent","raf","isVisible","React","SPEED_PTG","useScrollTo","ulRef","value","scrollingRef","useRef","scrollRafRef","scrollDistRef","isScrolling","current","stopScroll","cancel","scrollRafTimesRef","startScroll","ul","targetLi","querySelector","concat","firstLi","doScroll","currentTop","scrollTop","firstLiTop","offsetTop","targetLiTop","targetTop","nextTop","dist","Math","abs","syncScroll"],"sources":["/Users/joji/Downloads/react-cutioluis-main copy/node_modules/rc-picker/es/PickerPanel/TimePanel/TimePanelBody/useScrollTo.js"],"sourcesContent":["import { useEvent } from 'rc-util';\nimport raf from \"rc-util/es/raf\";\nimport isVisible from \"rc-util/es/Dom/isVisible\";\nimport * as React from 'react';\nvar SPEED_PTG = 1 / 3;\nexport default function useScrollTo(ulRef, value) {\n  // ========================= Scroll =========================\n  var scrollingRef = React.useRef(false);\n  var scrollRafRef = React.useRef(null);\n  var scrollDistRef = React.useRef(null);\n  var isScrolling = function isScrolling() {\n    return scrollingRef.current;\n  };\n  var stopScroll = function stopScroll() {\n    raf.cancel(scrollRafRef.current);\n    scrollingRef.current = false;\n  };\n  var scrollRafTimesRef = React.useRef();\n  var startScroll = function startScroll() {\n    var ul = ulRef.current;\n    scrollDistRef.current = null;\n    scrollRafTimesRef.current = 0;\n    if (ul) {\n      var targetLi = ul.querySelector(\"[data-value=\\\"\".concat(value, \"\\\"]\"));\n      var firstLi = ul.querySelector(\"li\");\n      var doScroll = function doScroll() {\n        stopScroll();\n        scrollingRef.current = true;\n        scrollRafTimesRef.current += 1;\n        var currentTop = ul.scrollTop;\n        var firstLiTop = firstLi.offsetTop;\n        var targetLiTop = targetLi.offsetTop;\n        var targetTop = targetLiTop - firstLiTop;\n\n        // Wait for element exist. 5 frames is enough\n        if (targetLiTop === 0 && targetLi !== firstLi || !isVisible(ul)) {\n          if (scrollRafTimesRef.current <= 5) {\n            scrollRafRef.current = raf(doScroll);\n          }\n          return;\n        }\n        var nextTop = currentTop + (targetTop - currentTop) * SPEED_PTG;\n        var dist = Math.abs(targetTop - nextTop);\n\n        // Break if dist get larger, which means user is scrolling\n        if (scrollDistRef.current !== null && scrollDistRef.current < dist) {\n          stopScroll();\n          return;\n        }\n        scrollDistRef.current = dist;\n\n        // Stop when dist is less than 1\n        if (dist <= 1) {\n          ul.scrollTop = targetTop;\n          stopScroll();\n          return;\n        }\n\n        // IE not support `scrollTo`\n        ul.scrollTop = nextTop;\n        scrollRafRef.current = raf(doScroll);\n      };\n      if (targetLi && firstLi) {\n        doScroll();\n      }\n    }\n  };\n\n  // ======================== Trigger =========================\n  var syncScroll = useEvent(startScroll);\n  return [syncScroll, stopScroll, isScrolling];\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}