{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { useContext } from '@rc-component/context';\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { getCellProps } from \"../Body/BodyRow\";\nimport Cell from \"../Cell\";\nimport { GridContext } from \"./context\";\n/**\n * Return the width of the column by `colSpan`.\n * When `colSpan` is `0` will be trade as `1`.\n */\n\nexport function getColumnWidth(colIndex, colSpan, columnsOffset) {\n  var mergedColSpan = colSpan || 1;\n  return columnsOffset[colIndex + mergedColSpan] - (columnsOffset[colIndex] || 0);\n}\n\nfunction VirtualCell(props) {\n  var rowInfo = props.rowInfo,\n      column = props.column,\n      colIndex = props.colIndex,\n      indent = props.indent,\n      index = props.index,\n      component = props.component,\n      renderIndex = props.renderIndex,\n      record = props.record,\n      style = props.style,\n      className = props.className,\n      inverse = props.inverse,\n      getHeight = props.getHeight;\n  var render = column.render,\n      dataIndex = column.dataIndex,\n      columnClassName = column.className,\n      colWidth = column.width;\n\n  var _useContext = useContext(GridContext, ['columnsOffset']),\n      columnsOffset = _useContext.columnsOffset;\n\n  var _getCellProps = getCellProps(rowInfo, column, colIndex, indent, index),\n      key = _getCellProps.key,\n      fixedInfo = _getCellProps.fixedInfo,\n      appendCellNode = _getCellProps.appendCellNode,\n      additionalCellProps = _getCellProps.additionalCellProps;\n\n  var cellStyle = additionalCellProps.style,\n      _additionalCellProps$ = additionalCellProps.colSpan,\n      colSpan = _additionalCellProps$ === void 0 ? 1 : _additionalCellProps$,\n      _additionalCellProps$2 = additionalCellProps.rowSpan,\n      rowSpan = _additionalCellProps$2 === void 0 ? 1 : _additionalCellProps$2; // ========================= ColWidth =========================\n  // column width\n\n  var startColIndex = colIndex - 1;\n  var concatColWidth = getColumnWidth(startColIndex, colSpan, columnsOffset); // margin offset\n\n  var marginOffset = colSpan > 1 ? colWidth - concatColWidth : 0; // ========================== Style ===========================\n\n  var mergedStyle = _objectSpread(_objectSpread(_objectSpread({}, cellStyle), style), {}, {\n    flex: \"0 0 \".concat(concatColWidth, \"px\"),\n    width: \"\".concat(concatColWidth, \"px\"),\n    marginRight: marginOffset,\n    pointerEvents: 'auto'\n  }); // When `colSpan` or `rowSpan` is `0`, should skip render.\n\n\n  var needHide = React.useMemo(function () {\n    if (inverse) {\n      return rowSpan <= 1;\n    } else {\n      return colSpan === 0 || rowSpan === 0 || rowSpan > 1;\n    }\n  }, [rowSpan, colSpan, inverse]); // 0 rowSpan or colSpan should not render\n\n  if (needHide) {\n    mergedStyle.visibility = 'hidden';\n  } else if (inverse) {\n    mergedStyle.height = getHeight === null || getHeight === void 0 ? void 0 : getHeight(rowSpan);\n  }\n\n  var mergedRender = needHide ? function () {\n    return null;\n  } : render; // ========================== Render ==========================\n\n  var cellSpan = {}; // Virtual should reset `colSpan` & `rowSpan`\n\n  if (rowSpan === 0 || colSpan === 0) {\n    cellSpan.rowSpan = 1;\n    cellSpan.colSpan = 1;\n  }\n\n  return /*#__PURE__*/React.createElement(Cell, _extends({\n    className: classNames(columnClassName, className),\n    ellipsis: column.ellipsis,\n    align: column.align,\n    scope: column.rowScope,\n    component: component,\n    prefixCls: rowInfo.prefixCls,\n    key: key,\n    record: record,\n    index: index,\n    renderIndex: renderIndex,\n    dataIndex: dataIndex,\n    render: mergedRender,\n    shouldCellUpdate: column.shouldCellUpdate\n  }, fixedInfo, {\n    appendNode: appendCellNode,\n    additionalProps: _objectSpread(_objectSpread({}, additionalCellProps), {}, {\n      style: mergedStyle\n    }, cellSpan)\n  }));\n}\n\nexport default VirtualCell;","map":{"version":3,"names":["_extends","_objectSpread","useContext","classNames","React","getCellProps","Cell","GridContext","getColumnWidth","colIndex","colSpan","columnsOffset","mergedColSpan","VirtualCell","props","rowInfo","column","indent","index","component","renderIndex","record","style","className","inverse","getHeight","render","dataIndex","columnClassName","colWidth","width","_useContext","_getCellProps","key","fixedInfo","appendCellNode","additionalCellProps","cellStyle","_additionalCellProps$","_additionalCellProps$2","rowSpan","startColIndex","concatColWidth","marginOffset","mergedStyle","flex","concat","marginRight","pointerEvents","needHide","useMemo","visibility","height","mergedRender","cellSpan","createElement","ellipsis","align","scope","rowScope","prefixCls","shouldCellUpdate","appendNode","additionalProps"],"sources":["/Users/joji/Documents/CODE/React/react-cutioluis/node_modules/rc-table/es/VirtualTable/VirtualCell.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { useContext } from '@rc-component/context';\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { getCellProps } from \"../Body/BodyRow\";\nimport Cell from \"../Cell\";\nimport { GridContext } from \"./context\";\n/**\n * Return the width of the column by `colSpan`.\n * When `colSpan` is `0` will be trade as `1`.\n */\nexport function getColumnWidth(colIndex, colSpan, columnsOffset) {\n  var mergedColSpan = colSpan || 1;\n  return columnsOffset[colIndex + mergedColSpan] - (columnsOffset[colIndex] || 0);\n}\nfunction VirtualCell(props) {\n  var rowInfo = props.rowInfo,\n    column = props.column,\n    colIndex = props.colIndex,\n    indent = props.indent,\n    index = props.index,\n    component = props.component,\n    renderIndex = props.renderIndex,\n    record = props.record,\n    style = props.style,\n    className = props.className,\n    inverse = props.inverse,\n    getHeight = props.getHeight;\n  var render = column.render,\n    dataIndex = column.dataIndex,\n    columnClassName = column.className,\n    colWidth = column.width;\n  var _useContext = useContext(GridContext, ['columnsOffset']),\n    columnsOffset = _useContext.columnsOffset;\n  var _getCellProps = getCellProps(rowInfo, column, colIndex, indent, index),\n    key = _getCellProps.key,\n    fixedInfo = _getCellProps.fixedInfo,\n    appendCellNode = _getCellProps.appendCellNode,\n    additionalCellProps = _getCellProps.additionalCellProps;\n  var cellStyle = additionalCellProps.style,\n    _additionalCellProps$ = additionalCellProps.colSpan,\n    colSpan = _additionalCellProps$ === void 0 ? 1 : _additionalCellProps$,\n    _additionalCellProps$2 = additionalCellProps.rowSpan,\n    rowSpan = _additionalCellProps$2 === void 0 ? 1 : _additionalCellProps$2;\n\n  // ========================= ColWidth =========================\n  // column width\n  var startColIndex = colIndex - 1;\n  var concatColWidth = getColumnWidth(startColIndex, colSpan, columnsOffset);\n\n  // margin offset\n  var marginOffset = colSpan > 1 ? colWidth - concatColWidth : 0;\n\n  // ========================== Style ===========================\n  var mergedStyle = _objectSpread(_objectSpread(_objectSpread({}, cellStyle), style), {}, {\n    flex: \"0 0 \".concat(concatColWidth, \"px\"),\n    width: \"\".concat(concatColWidth, \"px\"),\n    marginRight: marginOffset,\n    pointerEvents: 'auto'\n  });\n\n  // When `colSpan` or `rowSpan` is `0`, should skip render.\n  var needHide = React.useMemo(function () {\n    if (inverse) {\n      return rowSpan <= 1;\n    } else {\n      return colSpan === 0 || rowSpan === 0 || rowSpan > 1;\n    }\n  }, [rowSpan, colSpan, inverse]);\n\n  // 0 rowSpan or colSpan should not render\n  if (needHide) {\n    mergedStyle.visibility = 'hidden';\n  } else if (inverse) {\n    mergedStyle.height = getHeight === null || getHeight === void 0 ? void 0 : getHeight(rowSpan);\n  }\n  var mergedRender = needHide ? function () {\n    return null;\n  } : render;\n\n  // ========================== Render ==========================\n  var cellSpan = {};\n\n  // Virtual should reset `colSpan` & `rowSpan`\n  if (rowSpan === 0 || colSpan === 0) {\n    cellSpan.rowSpan = 1;\n    cellSpan.colSpan = 1;\n  }\n  return /*#__PURE__*/React.createElement(Cell, _extends({\n    className: classNames(columnClassName, className),\n    ellipsis: column.ellipsis,\n    align: column.align,\n    scope: column.rowScope,\n    component: component,\n    prefixCls: rowInfo.prefixCls,\n    key: key,\n    record: record,\n    index: index,\n    renderIndex: renderIndex,\n    dataIndex: dataIndex,\n    render: mergedRender,\n    shouldCellUpdate: column.shouldCellUpdate\n  }, fixedInfo, {\n    appendNode: appendCellNode,\n    additionalProps: _objectSpread(_objectSpread({}, additionalCellProps), {}, {\n      style: mergedStyle\n    }, cellSpan)\n  }));\n}\nexport default VirtualCell;"],"mappings":"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"},"metadata":{},"sourceType":"module"}