{"ast":null,"code":"import { useRef } from 'react';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nvar SMOOTH_PTG = 14 / 15;\nexport default function useMobileTouchMove(inVirtual, listRef, callback) {\n  var touchedRef = useRef(false);\n  var touchYRef = useRef(0);\n  var elementRef = useRef(null); // Smooth scroll\n\n  var intervalRef = useRef(null);\n  /* eslint-disable prefer-const */\n\n  var cleanUpEvents;\n\n  var onTouchMove = function onTouchMove(e) {\n    if (touchedRef.current) {\n      var currentY = Math.ceil(e.touches[0].pageY);\n\n      var _offsetY = touchYRef.current - currentY;\n\n      touchYRef.current = currentY;\n\n      if (callback(_offsetY)) {\n        e.preventDefault();\n      } // Smooth interval\n\n\n      clearInterval(intervalRef.current);\n      intervalRef.current = setInterval(function () {\n        _offsetY *= SMOOTH_PTG;\n\n        if (!callback(_offsetY, true) || Math.abs(_offsetY) <= 0.1) {\n          clearInterval(intervalRef.current);\n        }\n      }, 16);\n    }\n  };\n\n  var onTouchEnd = function onTouchEnd() {\n    touchedRef.current = false;\n    cleanUpEvents();\n  };\n\n  var onTouchStart = function onTouchStart(e) {\n    cleanUpEvents();\n\n    if (e.touches.length === 1 && !touchedRef.current) {\n      touchedRef.current = true;\n      touchYRef.current = Math.ceil(e.touches[0].pageY);\n      elementRef.current = e.target;\n      elementRef.current.addEventListener('touchmove', onTouchMove);\n      elementRef.current.addEventListener('touchend', onTouchEnd);\n    }\n  };\n\n  cleanUpEvents = function cleanUpEvents() {\n    if (elementRef.current) {\n      elementRef.current.removeEventListener('touchmove', onTouchMove);\n      elementRef.current.removeEventListener('touchend', onTouchEnd);\n    }\n  };\n\n  useLayoutEffect(function () {\n    if (inVirtual) {\n      listRef.current.addEventListener('touchstart', onTouchStart);\n    }\n\n    return function () {\n      var _listRef$current;\n\n      (_listRef$current = listRef.current) === null || _listRef$current === void 0 || _listRef$current.removeEventListener('touchstart', onTouchStart);\n      cleanUpEvents();\n      clearInterval(intervalRef.current);\n    };\n  }, [inVirtual]);\n}","map":{"version":3,"names":["useRef","useLayoutEffect","SMOOTH_PTG","useMobileTouchMove","inVirtual","listRef","callback","touchedRef","touchYRef","elementRef","intervalRef","cleanUpEvents","onTouchMove","e","current","currentY","Math","ceil","touches","pageY","_offsetY","preventDefault","clearInterval","setInterval","abs","onTouchEnd","onTouchStart","length","target","addEventListener","removeEventListener","_listRef$current"],"sources":["/Users/joji/Downloads/react-cutioluis-main copy/node_modules/rc-virtual-list/es/hooks/useMobileTouchMove.js"],"sourcesContent":["import { useRef } from 'react';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nvar SMOOTH_PTG = 14 / 15;\nexport default function useMobileTouchMove(inVirtual, listRef, callback) {\n  var touchedRef = useRef(false);\n  var touchYRef = useRef(0);\n  var elementRef = useRef(null);\n\n  // Smooth scroll\n  var intervalRef = useRef(null);\n\n  /* eslint-disable prefer-const */\n  var cleanUpEvents;\n  var onTouchMove = function onTouchMove(e) {\n    if (touchedRef.current) {\n      var currentY = Math.ceil(e.touches[0].pageY);\n      var _offsetY = touchYRef.current - currentY;\n      touchYRef.current = currentY;\n      if (callback(_offsetY)) {\n        e.preventDefault();\n      }\n\n      // Smooth interval\n      clearInterval(intervalRef.current);\n      intervalRef.current = setInterval(function () {\n        _offsetY *= SMOOTH_PTG;\n        if (!callback(_offsetY, true) || Math.abs(_offsetY) <= 0.1) {\n          clearInterval(intervalRef.current);\n        }\n      }, 16);\n    }\n  };\n  var onTouchEnd = function onTouchEnd() {\n    touchedRef.current = false;\n    cleanUpEvents();\n  };\n  var onTouchStart = function onTouchStart(e) {\n    cleanUpEvents();\n    if (e.touches.length === 1 && !touchedRef.current) {\n      touchedRef.current = true;\n      touchYRef.current = Math.ceil(e.touches[0].pageY);\n      elementRef.current = e.target;\n      elementRef.current.addEventListener('touchmove', onTouchMove);\n      elementRef.current.addEventListener('touchend', onTouchEnd);\n    }\n  };\n  cleanUpEvents = function cleanUpEvents() {\n    if (elementRef.current) {\n      elementRef.current.removeEventListener('touchmove', onTouchMove);\n      elementRef.current.removeEventListener('touchend', onTouchEnd);\n    }\n  };\n  useLayoutEffect(function () {\n    if (inVirtual) {\n      listRef.current.addEventListener('touchstart', onTouchStart);\n    }\n    return function () {\n      var _listRef$current;\n      (_listRef$current = listRef.current) === null || _listRef$current === void 0 || _listRef$current.removeEventListener('touchstart', onTouchStart);\n      cleanUpEvents();\n      clearInterval(intervalRef.current);\n    };\n  }, [inVirtual]);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}