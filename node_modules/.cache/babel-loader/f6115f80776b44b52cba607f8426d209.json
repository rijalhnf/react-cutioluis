{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { PreviewGroupContext } from \"../context\";\nvar uid = 0;\nexport default function useRegisterImage(canPreview, data) {\n  var _React$useState = React.useState(function () {\n    uid += 1;\n    return String(uid);\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      id = _React$useState2[0];\n\n  var groupContext = React.useContext(PreviewGroupContext);\n  var registerData = {\n    data: data,\n    canPreview: canPreview\n  }; // Keep order start\n  // Resolve https://github.com/ant-design/ant-design/issues/28881\n  // Only need unRegister when component unMount\n\n  React.useEffect(function () {\n    if (groupContext) {\n      return groupContext.register(id, registerData);\n    }\n  }, []);\n  React.useEffect(function () {\n    if (groupContext) {\n      groupContext.register(id, registerData);\n    }\n  }, [canPreview, data]);\n  return id;\n}","map":{"version":3,"names":["_slicedToArray","React","PreviewGroupContext","uid","useRegisterImage","canPreview","data","_React$useState","useState","String","_React$useState2","id","groupContext","useContext","registerData","useEffect","register"],"sources":["/Users/joji/Documents/CODE/React/react-cutioluis/node_modules/rc-image/es/hooks/useRegisterImage.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { PreviewGroupContext } from \"../context\";\nvar uid = 0;\nexport default function useRegisterImage(canPreview, data) {\n  var _React$useState = React.useState(function () {\n      uid += 1;\n      return String(uid);\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 1),\n    id = _React$useState2[0];\n  var groupContext = React.useContext(PreviewGroupContext);\n  var registerData = {\n    data: data,\n    canPreview: canPreview\n  };\n\n  // Keep order start\n  // Resolve https://github.com/ant-design/ant-design/issues/28881\n  // Only need unRegister when component unMount\n  React.useEffect(function () {\n    if (groupContext) {\n      return groupContext.register(id, registerData);\n    }\n  }, []);\n  React.useEffect(function () {\n    if (groupContext) {\n      groupContext.register(id, registerData);\n    }\n  }, [canPreview, data]);\n  return id;\n}"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,0CAA3B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,mBAAT,QAAoC,YAApC;AACA,IAAIC,GAAG,GAAG,CAAV;AACA,eAAe,SAASC,gBAAT,CAA0BC,UAA1B,EAAsCC,IAAtC,EAA4C;EACzD,IAAIC,eAAe,GAAGN,KAAK,CAACO,QAAN,CAAe,YAAY;IAC7CL,GAAG,IAAI,CAAP;IACA,OAAOM,MAAM,CAACN,GAAD,CAAb;EACD,CAHmB,CAAtB;EAAA,IAIEO,gBAAgB,GAAGV,cAAc,CAACO,eAAD,EAAkB,CAAlB,CAJnC;EAAA,IAKEI,EAAE,GAAGD,gBAAgB,CAAC,CAAD,CALvB;;EAMA,IAAIE,YAAY,GAAGX,KAAK,CAACY,UAAN,CAAiBX,mBAAjB,CAAnB;EACA,IAAIY,YAAY,GAAG;IACjBR,IAAI,EAAEA,IADW;IAEjBD,UAAU,EAAEA;EAFK,CAAnB,CARyD,CAazD;EACA;EACA;;EACAJ,KAAK,CAACc,SAAN,CAAgB,YAAY;IAC1B,IAAIH,YAAJ,EAAkB;MAChB,OAAOA,YAAY,CAACI,QAAb,CAAsBL,EAAtB,EAA0BG,YAA1B,CAAP;IACD;EACF,CAJD,EAIG,EAJH;EAKAb,KAAK,CAACc,SAAN,CAAgB,YAAY;IAC1B,IAAIH,YAAJ,EAAkB;MAChBA,YAAY,CAACI,QAAb,CAAsBL,EAAtB,EAA0BG,YAA1B;IACD;EACF,CAJD,EAIG,CAACT,UAAD,EAAaC,IAAb,CAJH;EAKA,OAAOK,EAAP;AACD"},"metadata":{},"sourceType":"module"}