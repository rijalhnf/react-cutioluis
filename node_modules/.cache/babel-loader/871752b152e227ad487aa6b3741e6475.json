{"ast":null,"code":"\"use client\";\n\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-motion';\nimport { render, unmount } from \"rc-util/es/React/render\";\nimport raf from \"rc-util/es/raf\";\nimport * as React from 'react';\nimport { getTargetWaveColor } from './util';\nimport { TARGET_CLS } from './interface';\n\nfunction validateNum(value) {\n  return Number.isNaN(value) ? 0 : value;\n}\n\nconst WaveEffect = props => {\n  const {\n    className,\n    target,\n    component\n  } = props;\n  const divRef = React.useRef(null);\n  const [color, setWaveColor] = React.useState(null);\n  const [borderRadius, setBorderRadius] = React.useState([]);\n  const [left, setLeft] = React.useState(0);\n  const [top, setTop] = React.useState(0);\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n  const [enabled, setEnabled] = React.useState(false);\n  const waveStyle = {\n    left,\n    top,\n    width,\n    height,\n    borderRadius: borderRadius.map(radius => `${radius}px`).join(' ')\n  };\n\n  if (color) {\n    waveStyle['--wave-color'] = color;\n  }\n\n  function syncPos() {\n    const nodeStyle = getComputedStyle(target); // Get wave color from target\n\n    setWaveColor(getTargetWaveColor(target));\n    const isStatic = nodeStyle.position === 'static'; // Rect\n\n    const {\n      borderLeftWidth,\n      borderTopWidth\n    } = nodeStyle;\n    setLeft(isStatic ? target.offsetLeft : validateNum(-parseFloat(borderLeftWidth)));\n    setTop(isStatic ? target.offsetTop : validateNum(-parseFloat(borderTopWidth)));\n    setWidth(target.offsetWidth);\n    setHeight(target.offsetHeight); // Get border radius\n\n    const {\n      borderTopLeftRadius,\n      borderTopRightRadius,\n      borderBottomLeftRadius,\n      borderBottomRightRadius\n    } = nodeStyle;\n    setBorderRadius([borderTopLeftRadius, borderTopRightRadius, borderBottomRightRadius, borderBottomLeftRadius].map(radius => validateNum(parseFloat(radius))));\n  }\n\n  React.useEffect(() => {\n    if (target) {\n      // We need delay to check position here\n      // since UI may change after click\n      const id = raf(() => {\n        syncPos();\n        setEnabled(true);\n      }); // Add resize observer to follow size\n\n      let resizeObserver;\n\n      if (typeof ResizeObserver !== 'undefined') {\n        resizeObserver = new ResizeObserver(syncPos);\n        resizeObserver.observe(target);\n      }\n\n      return () => {\n        raf.cancel(id);\n        resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.disconnect();\n      };\n    }\n  }, []);\n\n  if (!enabled) {\n    return null;\n  }\n\n  const isSmallComponent = (component === 'Checkbox' || component === 'Radio') && (target === null || target === void 0 ? void 0 : target.classList.contains(TARGET_CLS));\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: true,\n    motionAppear: true,\n    motionName: \"wave-motion\",\n    motionDeadline: 5000,\n    onAppearEnd: (_, event) => {\n      var _a;\n\n      if (event.deadline || event.propertyName === 'opacity') {\n        const holder = (_a = divRef.current) === null || _a === void 0 ? void 0 : _a.parentElement;\n        unmount(holder).then(() => {\n          holder === null || holder === void 0 ? void 0 : holder.remove();\n        });\n      }\n\n      return false;\n    }\n  }, _ref => {\n    let {\n      className: motionClassName\n    } = _ref;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: divRef,\n      className: classNames(className, {\n        'wave-quick': isSmallComponent\n      }, motionClassName),\n      style: waveStyle\n    });\n  });\n};\n\nconst showWaveEffect = (target, info) => {\n  var _a;\n\n  const {\n    component\n  } = info; // Skip for unchecked checkbox\n\n  if (component === 'Checkbox' && !((_a = target.querySelector('input')) === null || _a === void 0 ? void 0 : _a.checked)) {\n    return;\n  } // Create holder\n\n\n  const holder = document.createElement('div');\n  holder.style.position = 'absolute';\n  holder.style.left = '0px';\n  holder.style.top = '0px';\n  target === null || target === void 0 ? void 0 : target.insertBefore(holder, target === null || target === void 0 ? void 0 : target.firstChild);\n  render( /*#__PURE__*/React.createElement(WaveEffect, Object.assign({}, info, {\n    target: target\n  })), holder);\n};\n\nexport default showWaveEffect;","map":{"version":3,"names":["classNames","CSSMotion","render","unmount","raf","React","getTargetWaveColor","TARGET_CLS","validateNum","value","Number","isNaN","WaveEffect","props","className","target","component","divRef","useRef","color","setWaveColor","useState","borderRadius","setBorderRadius","left","setLeft","top","setTop","width","setWidth","height","setHeight","enabled","setEnabled","waveStyle","map","radius","join","syncPos","nodeStyle","getComputedStyle","isStatic","position","borderLeftWidth","borderTopWidth","offsetLeft","parseFloat","offsetTop","offsetWidth","offsetHeight","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","useEffect","id","resizeObserver","ResizeObserver","observe","cancel","disconnect","isSmallComponent","classList","contains","createElement","visible","motionAppear","motionName","motionDeadline","onAppearEnd","_","event","_a","deadline","propertyName","holder","current","parentElement","then","remove","_ref","motionClassName","ref","style","showWaveEffect","info","querySelector","checked","document","insertBefore","firstChild","Object","assign"],"sources":["/Users/joji/Documents/CODE/React/react-cutioluis/node_modules/antd/es/_util/wave/WaveEffect.js"],"sourcesContent":["\"use client\";\n\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-motion';\nimport { render, unmount } from \"rc-util/es/React/render\";\nimport raf from \"rc-util/es/raf\";\nimport * as React from 'react';\nimport { getTargetWaveColor } from './util';\nimport { TARGET_CLS } from './interface';\nfunction validateNum(value) {\n  return Number.isNaN(value) ? 0 : value;\n}\nconst WaveEffect = props => {\n  const {\n    className,\n    target,\n    component\n  } = props;\n  const divRef = React.useRef(null);\n  const [color, setWaveColor] = React.useState(null);\n  const [borderRadius, setBorderRadius] = React.useState([]);\n  const [left, setLeft] = React.useState(0);\n  const [top, setTop] = React.useState(0);\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n  const [enabled, setEnabled] = React.useState(false);\n  const waveStyle = {\n    left,\n    top,\n    width,\n    height,\n    borderRadius: borderRadius.map(radius => `${radius}px`).join(' ')\n  };\n  if (color) {\n    waveStyle['--wave-color'] = color;\n  }\n  function syncPos() {\n    const nodeStyle = getComputedStyle(target);\n    // Get wave color from target\n    setWaveColor(getTargetWaveColor(target));\n    const isStatic = nodeStyle.position === 'static';\n    // Rect\n    const {\n      borderLeftWidth,\n      borderTopWidth\n    } = nodeStyle;\n    setLeft(isStatic ? target.offsetLeft : validateNum(-parseFloat(borderLeftWidth)));\n    setTop(isStatic ? target.offsetTop : validateNum(-parseFloat(borderTopWidth)));\n    setWidth(target.offsetWidth);\n    setHeight(target.offsetHeight);\n    // Get border radius\n    const {\n      borderTopLeftRadius,\n      borderTopRightRadius,\n      borderBottomLeftRadius,\n      borderBottomRightRadius\n    } = nodeStyle;\n    setBorderRadius([borderTopLeftRadius, borderTopRightRadius, borderBottomRightRadius, borderBottomLeftRadius].map(radius => validateNum(parseFloat(radius))));\n  }\n  React.useEffect(() => {\n    if (target) {\n      // We need delay to check position here\n      // since UI may change after click\n      const id = raf(() => {\n        syncPos();\n        setEnabled(true);\n      });\n      // Add resize observer to follow size\n      let resizeObserver;\n      if (typeof ResizeObserver !== 'undefined') {\n        resizeObserver = new ResizeObserver(syncPos);\n        resizeObserver.observe(target);\n      }\n      return () => {\n        raf.cancel(id);\n        resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.disconnect();\n      };\n    }\n  }, []);\n  if (!enabled) {\n    return null;\n  }\n  const isSmallComponent = (component === 'Checkbox' || component === 'Radio') && (target === null || target === void 0 ? void 0 : target.classList.contains(TARGET_CLS));\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: true,\n    motionAppear: true,\n    motionName: \"wave-motion\",\n    motionDeadline: 5000,\n    onAppearEnd: (_, event) => {\n      var _a;\n      if (event.deadline || event.propertyName === 'opacity') {\n        const holder = (_a = divRef.current) === null || _a === void 0 ? void 0 : _a.parentElement;\n        unmount(holder).then(() => {\n          holder === null || holder === void 0 ? void 0 : holder.remove();\n        });\n      }\n      return false;\n    }\n  }, _ref => {\n    let {\n      className: motionClassName\n    } = _ref;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: divRef,\n      className: classNames(className, {\n        'wave-quick': isSmallComponent\n      }, motionClassName),\n      style: waveStyle\n    });\n  });\n};\nconst showWaveEffect = (target, info) => {\n  var _a;\n  const {\n    component\n  } = info;\n  // Skip for unchecked checkbox\n  if (component === 'Checkbox' && !((_a = target.querySelector('input')) === null || _a === void 0 ? void 0 : _a.checked)) {\n    return;\n  }\n  // Create holder\n  const holder = document.createElement('div');\n  holder.style.position = 'absolute';\n  holder.style.left = '0px';\n  holder.style.top = '0px';\n  target === null || target === void 0 ? void 0 : target.insertBefore(holder, target === null || target === void 0 ? void 0 : target.firstChild);\n  render( /*#__PURE__*/React.createElement(WaveEffect, Object.assign({}, info, {\n    target: target\n  })), holder);\n};\nexport default showWaveEffect;"],"mappings":"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"},"metadata":{},"sourceType":"module"}