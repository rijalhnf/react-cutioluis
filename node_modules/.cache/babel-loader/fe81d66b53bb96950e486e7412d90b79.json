{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { COMMON_PROPS } from \"../common\";\n/**\n * Merge props provided `items` or context collected images\n */\n\nexport default function usePreviewItems(items) {\n  // Context collection image data\n  var _React$useState = React.useState({}),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      images = _React$useState2[0],\n      setImages = _React$useState2[1];\n\n  var registerImage = React.useCallback(function (id, data) {\n    setImages(function (imgs) {\n      return _objectSpread(_objectSpread({}, imgs), {}, _defineProperty({}, id, data));\n    });\n    return function () {\n      setImages(function (imgs) {\n        var cloneImgs = _objectSpread({}, imgs);\n\n        delete cloneImgs[id];\n        return cloneImgs;\n      });\n    };\n  }, []); // items\n\n  var mergedItems = React.useMemo(function () {\n    if (items) {\n      return items.map(function (item) {\n        if (typeof item === 'string') {\n          return {\n            data: {\n              src: item\n            }\n          };\n        }\n\n        var data = {};\n        Object.keys(item).forEach(function (key) {\n          if (['src'].concat(_toConsumableArray(COMMON_PROPS)).includes(key)) {\n            data[key] = item[key];\n          }\n        });\n        return {\n          data: data\n        };\n      });\n    }\n\n    return Object.keys(images).reduce(function (total, id) {\n      var _images$id = images[id],\n          canPreview = _images$id.canPreview,\n          data = _images$id.data;\n\n      if (canPreview) {\n        total.push({\n          data: data,\n          id: id\n        });\n      }\n\n      return total;\n    }, []);\n  }, [items, images]);\n  return [mergedItems, registerImage];\n}","map":{"version":3,"names":["_toConsumableArray","_defineProperty","_objectSpread","_slicedToArray","React","COMMON_PROPS","usePreviewItems","items","_React$useState","useState","_React$useState2","images","setImages","registerImage","useCallback","id","data","imgs","cloneImgs","mergedItems","useMemo","map","item","src","Object","keys","forEach","key","concat","includes","reduce","total","_images$id","canPreview","push"],"sources":["/Users/joji/Downloads/react-cutioluis-main copy/node_modules/rc-image/es/hooks/usePreviewItems.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { COMMON_PROPS } from \"../common\";\n/**\n * Merge props provided `items` or context collected images\n */\nexport default function usePreviewItems(items) {\n  // Context collection image data\n  var _React$useState = React.useState({}),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    images = _React$useState2[0],\n    setImages = _React$useState2[1];\n  var registerImage = React.useCallback(function (id, data) {\n    setImages(function (imgs) {\n      return _objectSpread(_objectSpread({}, imgs), {}, _defineProperty({}, id, data));\n    });\n    return function () {\n      setImages(function (imgs) {\n        var cloneImgs = _objectSpread({}, imgs);\n        delete cloneImgs[id];\n        return cloneImgs;\n      });\n    };\n  }, []);\n\n  // items\n  var mergedItems = React.useMemo(function () {\n    if (items) {\n      return items.map(function (item) {\n        if (typeof item === 'string') {\n          return {\n            data: {\n              src: item\n            }\n          };\n        }\n        var data = {};\n        Object.keys(item).forEach(function (key) {\n          if (['src'].concat(_toConsumableArray(COMMON_PROPS)).includes(key)) {\n            data[key] = item[key];\n          }\n        });\n        return {\n          data: data\n        };\n      });\n    }\n    return Object.keys(images).reduce(function (total, id) {\n      var _images$id = images[id],\n        canPreview = _images$id.canPreview,\n        data = _images$id.data;\n      if (canPreview) {\n        total.push({\n          data: data,\n          id: id\n        });\n      }\n      return total;\n    }, []);\n  }, [items, images]);\n  return [mergedItems, registerImage];\n}"],"mappings":"AAAA,OAAOA,kBAAP,MAA+B,8CAA/B;AACA,OAAOC,eAAP,MAA4B,2CAA5B;AACA,OAAOC,aAAP,MAA0B,0CAA1B;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,YAAT,QAA6B,WAA7B;AACA;AACA;AACA;;AACA,eAAe,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;EAC7C;EACA,IAAIC,eAAe,GAAGJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAAtB;EAAA,IACEC,gBAAgB,GAAGP,cAAc,CAACK,eAAD,EAAkB,CAAlB,CADnC;EAAA,IAEEG,MAAM,GAAGD,gBAAgB,CAAC,CAAD,CAF3B;EAAA,IAGEE,SAAS,GAAGF,gBAAgB,CAAC,CAAD,CAH9B;;EAIA,IAAIG,aAAa,GAAGT,KAAK,CAACU,WAAN,CAAkB,UAAUC,EAAV,EAAcC,IAAd,EAAoB;IACxDJ,SAAS,CAAC,UAAUK,IAAV,EAAgB;MACxB,OAAOf,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKe,IAAL,CAAd,EAA0B,EAA1B,EAA8BhB,eAAe,CAAC,EAAD,EAAKc,EAAL,EAASC,IAAT,CAA7C,CAApB;IACD,CAFQ,CAAT;IAGA,OAAO,YAAY;MACjBJ,SAAS,CAAC,UAAUK,IAAV,EAAgB;QACxB,IAAIC,SAAS,GAAGhB,aAAa,CAAC,EAAD,EAAKe,IAAL,CAA7B;;QACA,OAAOC,SAAS,CAACH,EAAD,CAAhB;QACA,OAAOG,SAAP;MACD,CAJQ,CAAT;IAKD,CAND;EAOD,CAXmB,EAWjB,EAXiB,CAApB,CAN6C,CAmB7C;;EACA,IAAIC,WAAW,GAAGf,KAAK,CAACgB,OAAN,CAAc,YAAY;IAC1C,IAAIb,KAAJ,EAAW;MACT,OAAOA,KAAK,CAACc,GAAN,CAAU,UAAUC,IAAV,EAAgB;QAC/B,IAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;UAC5B,OAAO;YACLN,IAAI,EAAE;cACJO,GAAG,EAAED;YADD;UADD,CAAP;QAKD;;QACD,IAAIN,IAAI,GAAG,EAAX;QACAQ,MAAM,CAACC,IAAP,CAAYH,IAAZ,EAAkBI,OAAlB,CAA0B,UAAUC,GAAV,EAAe;UACvC,IAAI,CAAC,KAAD,EAAQC,MAAR,CAAe5B,kBAAkB,CAACK,YAAD,CAAjC,EAAiDwB,QAAjD,CAA0DF,GAA1D,CAAJ,EAAoE;YAClEX,IAAI,CAACW,GAAD,CAAJ,GAAYL,IAAI,CAACK,GAAD,CAAhB;UACD;QACF,CAJD;QAKA,OAAO;UACLX,IAAI,EAAEA;QADD,CAAP;MAGD,CAjBM,CAAP;IAkBD;;IACD,OAAOQ,MAAM,CAACC,IAAP,CAAYd,MAAZ,EAAoBmB,MAApB,CAA2B,UAAUC,KAAV,EAAiBhB,EAAjB,EAAqB;MACrD,IAAIiB,UAAU,GAAGrB,MAAM,CAACI,EAAD,CAAvB;MAAA,IACEkB,UAAU,GAAGD,UAAU,CAACC,UAD1B;MAAA,IAEEjB,IAAI,GAAGgB,UAAU,CAAChB,IAFpB;;MAGA,IAAIiB,UAAJ,EAAgB;QACdF,KAAK,CAACG,IAAN,CAAW;UACTlB,IAAI,EAAEA,IADG;UAETD,EAAE,EAAEA;QAFK,CAAX;MAID;;MACD,OAAOgB,KAAP;IACD,CAXM,EAWJ,EAXI,CAAP;EAYD,CAjCiB,EAiCf,CAACxB,KAAD,EAAQI,MAAR,CAjCe,CAAlB;EAkCA,OAAO,CAACQ,WAAD,EAAcN,aAAd,CAAP;AACD"},"metadata":{},"sourceType":"module"}