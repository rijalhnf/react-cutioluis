{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useRef, useState } from 'react';\n\nfunction getPosition(e) {\n  var obj = 'touches' in e ? e.touches[0] : e;\n  var scrollXOffset = document.documentElement.scrollLeft || document.body.scrollLeft || window.pageXOffset;\n  var scrollYOffset = document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset;\n  return {\n    pageX: obj.pageX - scrollXOffset,\n    pageY: obj.pageY - scrollYOffset\n  };\n}\n\nfunction useColorDrag(props) {\n  var offset = props.offset,\n      targetRef = props.targetRef,\n      containerRef = props.containerRef,\n      direction = props.direction,\n      onDragChange = props.onDragChange,\n      onDragChangeComplete = props.onDragChangeComplete,\n      calculate = props.calculate,\n      color = props.color,\n      disabledDrag = props.disabledDrag;\n\n  var _useState = useState(offset || {\n    x: 0,\n    y: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      offsetValue = _useState2[0],\n      setOffsetValue = _useState2[1];\n\n  var mouseMoveRef = useRef(null);\n  var mouseUpRef = useRef(null);\n  var dragRef = useRef({\n    flag: false\n  });\n  useEffect(function () {\n    if (dragRef.current.flag === false) {\n      var calcOffset = calculate === null || calculate === void 0 ? void 0 : calculate(containerRef);\n\n      if (calcOffset) {\n        setOffsetValue(calcOffset);\n      }\n    }\n  }, [color, containerRef]);\n  useEffect(function () {\n    return function () {\n      document.removeEventListener('mousemove', mouseMoveRef.current);\n      document.removeEventListener('mouseup', mouseUpRef.current);\n      document.removeEventListener('touchmove', mouseMoveRef.current);\n      document.removeEventListener('touchend', mouseUpRef.current);\n      mouseMoveRef.current = null;\n      mouseUpRef.current = null;\n    };\n  }, []);\n\n  var updateOffset = function updateOffset(e) {\n    var _getPosition = getPosition(e),\n        pageX = _getPosition.pageX,\n        pageY = _getPosition.pageY;\n\n    var _containerRef$current = containerRef.current.getBoundingClientRect(),\n        rectX = _containerRef$current.x,\n        rectY = _containerRef$current.y,\n        width = _containerRef$current.width,\n        height = _containerRef$current.height;\n\n    var _targetRef$current$ge = targetRef.current.getBoundingClientRect(),\n        targetWidth = _targetRef$current$ge.width,\n        targetHeight = _targetRef$current$ge.height;\n\n    var centerOffsetX = targetWidth / 2;\n    var centerOffsetY = targetHeight / 2;\n    var offsetX = Math.max(0, Math.min(pageX - rectX, width)) - centerOffsetX;\n    var offsetY = Math.max(0, Math.min(pageY - rectY, height)) - centerOffsetY;\n    var calcOffset = {\n      x: offsetX,\n      y: direction === 'x' ? offsetValue.y : offsetY\n    }; // Exclusion of boundary cases\n\n    if (targetWidth === 0 && targetHeight === 0 || targetWidth !== targetHeight) {\n      return false;\n    }\n\n    setOffsetValue(calcOffset);\n    onDragChange === null || onDragChange === void 0 || onDragChange(calcOffset);\n  };\n\n  var onDragMove = function onDragMove(e) {\n    e.preventDefault();\n    updateOffset(e);\n  };\n\n  var onDragStop = function onDragStop(e) {\n    e.preventDefault();\n    dragRef.current.flag = false;\n    document.removeEventListener('mousemove', mouseMoveRef.current);\n    document.removeEventListener('mouseup', mouseUpRef.current);\n    document.removeEventListener('touchmove', mouseMoveRef.current);\n    document.removeEventListener('touchend', mouseUpRef.current);\n    mouseMoveRef.current = null;\n    mouseUpRef.current = null;\n    onDragChangeComplete === null || onDragChangeComplete === void 0 || onDragChangeComplete();\n  };\n\n  var onDragStart = function onDragStart(e) {\n    // https://github.com/ant-design/ant-design/issues/43529\n    document.removeEventListener('mousemove', mouseMoveRef.current);\n    document.removeEventListener('mouseup', mouseUpRef.current);\n\n    if (disabledDrag) {\n      return;\n    }\n\n    updateOffset(e);\n    dragRef.current.flag = true;\n    document.addEventListener('mousemove', onDragMove);\n    document.addEventListener('mouseup', onDragStop);\n    document.addEventListener('touchmove', onDragMove);\n    document.addEventListener('touchend', onDragStop);\n    mouseMoveRef.current = onDragMove;\n    mouseUpRef.current = onDragStop;\n  };\n\n  return [offsetValue, onDragStart];\n}\n\nexport default useColorDrag;","map":{"version":3,"names":["_slicedToArray","useEffect","useRef","useState","getPosition","e","obj","touches","scrollXOffset","document","documentElement","scrollLeft","body","window","pageXOffset","scrollYOffset","scrollTop","pageYOffset","pageX","pageY","useColorDrag","props","offset","targetRef","containerRef","direction","onDragChange","onDragChangeComplete","calculate","color","disabledDrag","_useState","x","y","_useState2","offsetValue","setOffsetValue","mouseMoveRef","mouseUpRef","dragRef","flag","current","calcOffset","removeEventListener","updateOffset","_getPosition","_containerRef$current","getBoundingClientRect","rectX","rectY","width","height","_targetRef$current$ge","targetWidth","targetHeight","centerOffsetX","centerOffsetY","offsetX","Math","max","min","offsetY","onDragMove","preventDefault","onDragStop","onDragStart","addEventListener"],"sources":["/Users/joji/Downloads/react-cutioluis-main copy/node_modules/@rc-component/color-picker/es/hooks/useColorDrag.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useRef, useState } from 'react';\nfunction getPosition(e) {\n  var obj = 'touches' in e ? e.touches[0] : e;\n  var scrollXOffset = document.documentElement.scrollLeft || document.body.scrollLeft || window.pageXOffset;\n  var scrollYOffset = document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset;\n  return {\n    pageX: obj.pageX - scrollXOffset,\n    pageY: obj.pageY - scrollYOffset\n  };\n}\nfunction useColorDrag(props) {\n  var offset = props.offset,\n    targetRef = props.targetRef,\n    containerRef = props.containerRef,\n    direction = props.direction,\n    onDragChange = props.onDragChange,\n    onDragChangeComplete = props.onDragChangeComplete,\n    calculate = props.calculate,\n    color = props.color,\n    disabledDrag = props.disabledDrag;\n  var _useState = useState(offset || {\n      x: 0,\n      y: 0\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    offsetValue = _useState2[0],\n    setOffsetValue = _useState2[1];\n  var mouseMoveRef = useRef(null);\n  var mouseUpRef = useRef(null);\n  var dragRef = useRef({\n    flag: false\n  });\n  useEffect(function () {\n    if (dragRef.current.flag === false) {\n      var calcOffset = calculate === null || calculate === void 0 ? void 0 : calculate(containerRef);\n      if (calcOffset) {\n        setOffsetValue(calcOffset);\n      }\n    }\n  }, [color, containerRef]);\n  useEffect(function () {\n    return function () {\n      document.removeEventListener('mousemove', mouseMoveRef.current);\n      document.removeEventListener('mouseup', mouseUpRef.current);\n      document.removeEventListener('touchmove', mouseMoveRef.current);\n      document.removeEventListener('touchend', mouseUpRef.current);\n      mouseMoveRef.current = null;\n      mouseUpRef.current = null;\n    };\n  }, []);\n  var updateOffset = function updateOffset(e) {\n    var _getPosition = getPosition(e),\n      pageX = _getPosition.pageX,\n      pageY = _getPosition.pageY;\n    var _containerRef$current = containerRef.current.getBoundingClientRect(),\n      rectX = _containerRef$current.x,\n      rectY = _containerRef$current.y,\n      width = _containerRef$current.width,\n      height = _containerRef$current.height;\n    var _targetRef$current$ge = targetRef.current.getBoundingClientRect(),\n      targetWidth = _targetRef$current$ge.width,\n      targetHeight = _targetRef$current$ge.height;\n    var centerOffsetX = targetWidth / 2;\n    var centerOffsetY = targetHeight / 2;\n    var offsetX = Math.max(0, Math.min(pageX - rectX, width)) - centerOffsetX;\n    var offsetY = Math.max(0, Math.min(pageY - rectY, height)) - centerOffsetY;\n    var calcOffset = {\n      x: offsetX,\n      y: direction === 'x' ? offsetValue.y : offsetY\n    };\n\n    // Exclusion of boundary cases\n    if (targetWidth === 0 && targetHeight === 0 || targetWidth !== targetHeight) {\n      return false;\n    }\n    setOffsetValue(calcOffset);\n    onDragChange === null || onDragChange === void 0 || onDragChange(calcOffset);\n  };\n  var onDragMove = function onDragMove(e) {\n    e.preventDefault();\n    updateOffset(e);\n  };\n  var onDragStop = function onDragStop(e) {\n    e.preventDefault();\n    dragRef.current.flag = false;\n    document.removeEventListener('mousemove', mouseMoveRef.current);\n    document.removeEventListener('mouseup', mouseUpRef.current);\n    document.removeEventListener('touchmove', mouseMoveRef.current);\n    document.removeEventListener('touchend', mouseUpRef.current);\n    mouseMoveRef.current = null;\n    mouseUpRef.current = null;\n    onDragChangeComplete === null || onDragChangeComplete === void 0 || onDragChangeComplete();\n  };\n  var onDragStart = function onDragStart(e) {\n    // https://github.com/ant-design/ant-design/issues/43529\n    document.removeEventListener('mousemove', mouseMoveRef.current);\n    document.removeEventListener('mouseup', mouseUpRef.current);\n    if (disabledDrag) {\n      return;\n    }\n    updateOffset(e);\n    dragRef.current.flag = true;\n    document.addEventListener('mousemove', onDragMove);\n    document.addEventListener('mouseup', onDragStop);\n    document.addEventListener('touchmove', onDragMove);\n    document.addEventListener('touchend', onDragStop);\n    mouseMoveRef.current = onDragMove;\n    mouseUpRef.current = onDragStop;\n  };\n  return [offsetValue, onDragStart];\n}\nexport default useColorDrag;"],"mappings":"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"},"metadata":{},"sourceType":"module"}