{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEvent, useMergedState } from 'rc-util';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport omit from \"rc-util/es/omit\";\nimport pickAttrs from \"rc-util/es/pickAttrs\";\nimport warning from \"rc-util/es/warning\";\nimport * as React from 'react';\nimport PickerTrigger from \"../PickerTrigger\";\nimport { pickTriggerProps } from \"../PickerTrigger/util\";\nimport { fillIndex, toArray } from \"../utils/miscUtil\";\nimport PickerContext from \"./context\";\nimport useCellRender from \"./hooks/useCellRender\";\nimport useFieldsInvalidate from \"./hooks/useFieldsInvalidate\";\nimport useFilledProps from \"./hooks/useFilledProps\";\nimport useOpen from \"./hooks/useOpen\";\nimport usePickerRef from \"./hooks/usePickerRef\";\nimport usePresets from \"./hooks/usePresets\";\nimport useRangeActive from \"./hooks/useRangeActive\";\nimport useRangeDisabledDate from \"./hooks/useRangeDisabledDate\";\nimport useRangePickerValue from \"./hooks/useRangePickerValue\";\nimport useRangeValue, { useInnerValue } from \"./hooks/useRangeValue\";\nimport useShowNow from \"./hooks/useShowNow\";\nimport Popup from \"./Popup\";\nimport RangeSelector from \"./Selector/RangeSelector\";\n\nfunction separateConfig(config, defaultConfig) {\n  var singleConfig = config !== null && config !== void 0 ? config : defaultConfig;\n\n  if (Array.isArray(singleConfig)) {\n    return singleConfig;\n  }\n\n  return [singleConfig, singleConfig];\n}\n/** Used for change event, it should always be not undefined */\n\n\nfunction getActiveRange(activeIndex) {\n  return activeIndex === 1 ? 'end' : 'start';\n}\n\nfunction RangePicker(props, ref) {\n  // ========================= Prop =========================\n  var _useFilledProps = useFilledProps(props, function () {\n    var disabled = props.disabled,\n        allowEmpty = props.allowEmpty;\n    var mergedDisabled = separateConfig(disabled, false);\n    var mergedAllowEmpty = separateConfig(allowEmpty, false);\n    return {\n      disabled: mergedDisabled,\n      allowEmpty: mergedAllowEmpty\n    };\n  }),\n      _useFilledProps2 = _slicedToArray(_useFilledProps, 6),\n      filledProps = _useFilledProps2[0],\n      internalPicker = _useFilledProps2[1],\n      complexPicker = _useFilledProps2[2],\n      formatList = _useFilledProps2[3],\n      maskFormat = _useFilledProps2[4],\n      isInvalidateDate = _useFilledProps2[5];\n\n  var prefixCls = filledProps.prefixCls,\n      styles = filledProps.styles,\n      classNames = filledProps.classNames,\n      defaultValue = filledProps.defaultValue,\n      value = filledProps.value,\n      needConfirm = filledProps.needConfirm,\n      onKeyDown = filledProps.onKeyDown,\n      disabled = filledProps.disabled,\n      allowEmpty = filledProps.allowEmpty,\n      disabledDate = filledProps.disabledDate,\n      minDate = filledProps.minDate,\n      maxDate = filledProps.maxDate,\n      defaultOpen = filledProps.defaultOpen,\n      open = filledProps.open,\n      onOpenChange = filledProps.onOpenChange,\n      locale = filledProps.locale,\n      generateConfig = filledProps.generateConfig,\n      picker = filledProps.picker,\n      showNow = filledProps.showNow,\n      showToday = filledProps.showToday,\n      showTime = filledProps.showTime,\n      mode = filledProps.mode,\n      onPanelChange = filledProps.onPanelChange,\n      onCalendarChange = filledProps.onCalendarChange,\n      onOk = filledProps.onOk,\n      defaultPickerValue = filledProps.defaultPickerValue,\n      pickerValue = filledProps.pickerValue,\n      onPickerValueChange = filledProps.onPickerValueChange,\n      inputReadOnly = filledProps.inputReadOnly,\n      suffixIcon = filledProps.suffixIcon,\n      onFocus = filledProps.onFocus,\n      onBlur = filledProps.onBlur,\n      presets = filledProps.presets,\n      ranges = filledProps.ranges,\n      components = filledProps.components,\n      cellRender = filledProps.cellRender,\n      dateRender = filledProps.dateRender,\n      monthCellRender = filledProps.monthCellRender,\n      onClick = filledProps.onClick; // ========================= Refs =========================\n\n  var selectorRef = usePickerRef(ref); // ========================= Open =========================\n\n  var _useOpen = useOpen(open, defaultOpen, disabled, onOpenChange),\n      _useOpen2 = _slicedToArray(_useOpen, 2),\n      mergedOpen = _useOpen2[0],\n      setMergeOpen = _useOpen2[1];\n\n  var triggerOpen = function triggerOpen(nextOpen, config) {\n    // No need to open if all disabled\n    if (disabled.some(function (fieldDisabled) {\n      return !fieldDisabled;\n    }) || !nextOpen) {\n      setMergeOpen(nextOpen, config);\n    }\n  }; // ======================== Values ========================\n\n\n  var _useInnerValue = useInnerValue(generateConfig, locale, formatList, true, false, defaultValue, value, onCalendarChange, onOk),\n      _useInnerValue2 = _slicedToArray(_useInnerValue, 5),\n      mergedValue = _useInnerValue2[0],\n      setInnerValue = _useInnerValue2[1],\n      getCalendarValue = _useInnerValue2[2],\n      triggerCalendarChange = _useInnerValue2[3],\n      triggerOk = _useInnerValue2[4];\n\n  var calendarValue = getCalendarValue(); // ======================== Active ========================\n\n  var _useRangeActive = useRangeActive(disabled, allowEmpty),\n      _useRangeActive2 = _slicedToArray(_useRangeActive, 7),\n      focused = _useRangeActive2[0],\n      triggerFocus = _useRangeActive2[1],\n      lastOperation = _useRangeActive2[2],\n      activeIndex = _useRangeActive2[3],\n      setActiveIndex = _useRangeActive2[4],\n      nextActiveIndex = _useRangeActive2[5],\n      activeIndexList = _useRangeActive2[6];\n\n  var onSharedFocus = function onSharedFocus(event, index) {\n    triggerFocus(true);\n    onFocus === null || onFocus === void 0 || onFocus(event, {\n      range: getActiveRange(index !== null && index !== void 0 ? index : activeIndex)\n    });\n  };\n\n  var onSharedBlur = function onSharedBlur(event, index) {\n    triggerFocus(false);\n    onBlur === null || onBlur === void 0 || onBlur(event, {\n      range: getActiveRange(index !== null && index !== void 0 ? index : activeIndex)\n    });\n  }; // ======================= ShowTime =======================\n\n\n  var mergedShowTime = React.useMemo(function () {\n    if (!showTime) {\n      return null;\n    }\n\n    var disabledTime = showTime.disabledTime;\n    var proxyDisabledTime = disabledTime ? function (date) {\n      var range = getActiveRange(activeIndex);\n      return disabledTime(date, range);\n    } : undefined;\n    return _objectSpread(_objectSpread({}, showTime), {}, {\n      disabledTime: proxyDisabledTime\n    });\n  }, [showTime, activeIndex]); // ========================= Mode =========================\n\n  var _useMergedState = useMergedState([picker, picker], {\n    value: mode\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      modes = _useMergedState2[0],\n      setModes = _useMergedState2[1];\n\n  var mergedMode = modes[activeIndex] || picker;\n  /** Extends from `mergedMode` to patch `datetime` mode */\n\n  var internalMode = mergedMode === 'date' && mergedShowTime ? 'datetime' : mergedMode; // ====================== PanelCount ======================\n\n  var multiplePanel = internalMode === picker && internalMode !== 'time'; // ======================= Show Now =======================\n\n  var mergedShowNow = useShowNow(picker, mergedMode, showNow, showToday, true); // ======================== Value =========================\n\n  var _useRangeValue = useRangeValue(filledProps, mergedValue, setInnerValue, getCalendarValue, triggerCalendarChange, disabled, formatList, focused, mergedOpen, isInvalidateDate),\n      _useRangeValue2 = _slicedToArray(_useRangeValue, 2),\n\n  /** Trigger `onChange` by check `disabledDate` */\n  flushSubmit = _useRangeValue2[0],\n\n  /** Trigger `onChange` directly without check `disabledDate` */\n  triggerSubmitChange = _useRangeValue2[1]; // ===================== DisabledDate =====================\n\n\n  var mergedDisabledDate = useRangeDisabledDate(calendarValue, disabled, activeIndexList, generateConfig, locale, disabledDate); // ======================= Validate =======================\n\n  var _useFieldsInvalidate = useFieldsInvalidate(calendarValue, isInvalidateDate, allowEmpty),\n      _useFieldsInvalidate2 = _slicedToArray(_useFieldsInvalidate, 2),\n      submitInvalidates = _useFieldsInvalidate2[0],\n      onSelectorInvalid = _useFieldsInvalidate2[1]; // ===================== Picker Value =====================\n\n\n  var _useRangePickerValue = useRangePickerValue(generateConfig, locale, calendarValue, modes, mergedOpen, activeIndex, internalPicker, multiplePanel, defaultPickerValue, pickerValue, mergedShowTime === null || mergedShowTime === void 0 ? void 0 : mergedShowTime.defaultOpenValue, onPickerValueChange, minDate, maxDate),\n      _useRangePickerValue2 = _slicedToArray(_useRangePickerValue, 2),\n      currentPickerValue = _useRangePickerValue2[0],\n      setCurrentPickerValue = _useRangePickerValue2[1]; // >>> Mode need wait for `pickerValue`\n\n\n  var triggerModeChange = useEvent(function (nextPickerValue, nextMode, triggerEvent) {\n    var clone = fillIndex(modes, activeIndex, nextMode);\n\n    if (clone[0] !== modes[0] || clone[1] !== modes[1]) {\n      setModes(clone);\n    } // Compatible with `onPanelChange`\n\n\n    if (onPanelChange && triggerEvent !== false) {\n      var clonePickerValue = _toConsumableArray(calendarValue);\n\n      if (nextPickerValue) {\n        clonePickerValue[activeIndex] = nextPickerValue;\n      }\n\n      onPanelChange(clonePickerValue, clone);\n    }\n  }); // ======================== Change ========================\n\n  var fillCalendarValue = function fillCalendarValue(date, index) {\n    return (// Trigger change only when date changed\n      fillIndex(calendarValue, index, date)\n    );\n  }; // ======================== Submit ========================\n\n  /**\n   * Trigger by confirm operation.\n   * This function has already handle the `needConfirm` check logic.\n   * - Selector: enter key\n   * - Panel: OK button\n   */\n\n\n  var triggerPartConfirm = function triggerPartConfirm(date, skipFocus) {\n    var nextValue = calendarValue;\n\n    if (date) {\n      nextValue = fillCalendarValue(date, activeIndex);\n    } // Get next focus index\n\n\n    var nextIndex = nextActiveIndex(nextValue); // Change calendar value and tell flush it\n\n    triggerCalendarChange(nextValue);\n    flushSubmit(activeIndex, nextIndex === null);\n\n    if (nextIndex === null) {\n      triggerOpen(false, {\n        force: true\n      });\n    } else if (!skipFocus) {\n      selectorRef.current.focus({\n        index: nextIndex\n      });\n    }\n  }; // ======================== Click =========================\n\n\n  var onSelectorClick = function onSelectorClick(event) {\n    if (!selectorRef.current.nativeElement.contains(document.activeElement)) {\n      // Click to focus the enabled input\n      var enabledIndex = disabled.findIndex(function (d) {\n        return !d;\n      });\n\n      if (enabledIndex >= 0) {\n        selectorRef.current.focus({\n          index: enabledIndex\n        });\n      }\n    }\n\n    triggerOpen(true);\n    onClick === null || onClick === void 0 || onClick(event);\n  };\n\n  var onSelectorClear = function onSelectorClear() {\n    triggerSubmitChange(null);\n    triggerOpen(false, {\n      force: true\n    });\n  }; // ======================== Hover =========================\n\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      hoverSource = _React$useState2[0],\n      setHoverSource = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      internalHoverValues = _React$useState4[0],\n      setInternalHoverValues = _React$useState4[1];\n\n  var hoverValues = React.useMemo(function () {\n    return internalHoverValues || calendarValue;\n  }, [calendarValue, internalHoverValues]); // Clean up `internalHoverValues` when closed\n\n  React.useEffect(function () {\n    if (!mergedOpen) {\n      setInternalHoverValues(null);\n    }\n  }, [mergedOpen]); // ========================================================\n  // ==                       Panels                       ==\n  // ========================================================\n  // Save the offset with active bar position\n\n  var _React$useState5 = React.useState(0),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      activeOffset = _React$useState6[0],\n      setActiveOffset = _React$useState6[1]; // ======================= Presets ========================\n\n\n  var presetList = usePresets(presets, ranges);\n\n  var onPresetHover = function onPresetHover(nextValues) {\n    setInternalHoverValues(nextValues);\n    setHoverSource('preset');\n  };\n\n  var onPresetSubmit = function onPresetSubmit(nextValues) {\n    var passed = triggerSubmitChange(nextValues);\n\n    if (passed) {\n      triggerOpen(false, {\n        force: true\n      });\n    }\n  };\n\n  var onNow = function onNow(now) {\n    triggerPartConfirm(now);\n  }; // ======================== Panel =========================\n\n\n  var onPanelHover = function onPanelHover(date) {\n    setInternalHoverValues(date ? fillCalendarValue(date, activeIndex) : null);\n    setHoverSource('cell');\n  }; // >>> Focus\n\n\n  var onPanelFocus = function onPanelFocus(event) {\n    triggerOpen(true);\n    onSharedFocus(event);\n  }; // >>> Calendar\n\n\n  var onPanelSelect = function onPanelSelect(date) {\n    lastOperation('panel');\n    var clone = fillIndex(calendarValue, activeIndex, date); // Only trigger calendar event but not update internal `calendarValue` state\n\n    triggerCalendarChange(clone); // >>> Trigger next active if !needConfirm\n    // Fully logic check `useRangeValue` hook\n\n    if (!needConfirm && !complexPicker && internalPicker === internalMode) {\n      triggerPartConfirm(date);\n    }\n  }; // >>> Close\n\n\n  var onPopupClose = function onPopupClose() {\n    // Close popup\n    triggerOpen(false);\n  }; // >>> cellRender\n\n\n  var onInternalCellRender = useCellRender(cellRender, dateRender, monthCellRender, getActiveRange(activeIndex)); // >>> Value\n\n  var panelValue = calendarValue[activeIndex] || null; // >>> invalid\n\n  var isPopupInvalidateDate = useEvent(function (date) {\n    return isInvalidateDate(date, {\n      activeIndex: activeIndex\n    });\n  });\n  var panelProps = React.useMemo(function () {\n    var domProps = pickAttrs(filledProps, false);\n    var restProps = omit(filledProps, [].concat(_toConsumableArray(Object.keys(domProps)), ['onChange', 'onCalendarChange', 'style', 'className', 'onPanelChange']));\n    return restProps;\n  }, [filledProps]); // >>> Render\n\n  var panel = /*#__PURE__*/React.createElement(Popup, _extends({}, panelProps, {\n    showNow: mergedShowNow,\n    showTime: mergedShowTime // Range\n    ,\n    range: true,\n    multiplePanel: multiplePanel,\n    activeOffset: activeOffset // Disabled\n    ,\n    disabledDate: mergedDisabledDate // Focus\n    ,\n    onFocus: onPanelFocus,\n    onBlur: onSharedBlur // Mode\n    ,\n    picker: picker,\n    mode: mergedMode,\n    internalMode: internalMode,\n    onPanelChange: triggerModeChange // Value\n    ,\n    format: maskFormat,\n    value: panelValue,\n    isInvalid: isPopupInvalidateDate,\n    onChange: null,\n    onSelect: onPanelSelect // PickerValue\n    ,\n    pickerValue: currentPickerValue,\n    defaultOpenValue: toArray(showTime === null || showTime === void 0 ? void 0 : showTime.defaultOpenValue)[activeIndex],\n    onPickerValueChange: setCurrentPickerValue // Hover\n    ,\n    hoverValue: hoverValues,\n    onHover: onPanelHover // Submit\n    ,\n    needConfirm: needConfirm,\n    onSubmit: triggerPartConfirm,\n    onOk: triggerOk // Preset\n    ,\n    presets: presetList,\n    onPresetHover: onPresetHover,\n    onPresetSubmit: onPresetSubmit // Now\n    ,\n    onNow: onNow // Render\n    ,\n    cellRender: onInternalCellRender\n  })); // ========================================================\n  // ==                      Selector                      ==\n  // ========================================================\n  // ======================== Change ========================\n\n  var onSelectorChange = function onSelectorChange(date, index) {\n    var clone = fillCalendarValue(date, index);\n    triggerCalendarChange(clone);\n  };\n\n  var onSelectorInputChange = function onSelectorInputChange() {\n    lastOperation('input');\n  }; // ======================= Selector =======================\n\n\n  var onSelectorFocus = function onSelectorFocus(event, index) {\n    lastOperation('input');\n    triggerOpen(true, {\n      inherit: true\n    });\n    setActiveIndex(index);\n    onSharedFocus(event, index);\n  };\n\n  var onSelectorBlur = function onSelectorBlur(event, index) {\n    triggerOpen(false);\n    onSharedBlur(event, index);\n  };\n\n  var onSelectorKeyDown = function onSelectorKeyDown(event, preventDefault) {\n    if (event.key === 'Tab') {\n      triggerPartConfirm(null, true);\n    }\n\n    onKeyDown === null || onKeyDown === void 0 || onKeyDown(event, preventDefault);\n  }; // ======================= Context ========================\n\n\n  var context = React.useMemo(function () {\n    return {\n      prefixCls: prefixCls,\n      locale: locale,\n      generateConfig: generateConfig,\n      button: components.button,\n      input: components.input\n    };\n  }, [prefixCls, locale, generateConfig, components.button, components.input]); // ======================== Effect ========================\n  // >>> Mode\n  // Reset for every active\n\n  useLayoutEffect(function () {\n    if (mergedOpen && activeIndex !== undefined) {\n      // Legacy compatible. This effect update should not trigger `onPanelChange`\n      triggerModeChange(null, picker, false);\n    }\n  }, [mergedOpen, activeIndex, picker]); // >>> For complex picker, we need check if need to focus next one\n\n  useLayoutEffect(function () {\n    var lastOp = lastOperation(); // Trade as confirm on field leave\n\n    if (!mergedOpen && lastOp === 'input') {\n      triggerOpen(false);\n      triggerPartConfirm(null, true);\n    } // Submit with complex picker\n\n\n    if (!mergedOpen && complexPicker && !needConfirm && lastOp === 'panel') {\n      triggerOpen(true);\n      triggerPartConfirm();\n    }\n  }, [mergedOpen]); // ====================== DevWarning ======================\n\n  if (process.env.NODE_ENV !== 'production') {\n    var isIndexEmpty = function isIndexEmpty(index) {\n      return (// Value is empty\n        !(value !== null && value !== void 0 && value[index]) && // DefaultValue is empty\n        !(defaultValue !== null && defaultValue !== void 0 && defaultValue[index])\n      );\n    };\n\n    if (disabled.some(function (fieldDisabled, index) {\n      return fieldDisabled && isIndexEmpty(index) && !allowEmpty[index];\n    })) {\n      warning(false, '`disabled` should not set with empty `value`. You should set `allowEmpty` or `value` instead.');\n    }\n  } // ======================== Render ========================\n\n\n  return /*#__PURE__*/React.createElement(PickerContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(PickerTrigger, _extends({}, pickTriggerProps(filledProps), {\n    popupElement: panel,\n    popupStyle: styles.popup,\n    popupClassName: classNames.popup // Visible\n    ,\n    visible: mergedOpen,\n    onClose: onPopupClose // Range\n    ,\n    range: true\n  }), /*#__PURE__*/React.createElement(RangeSelector // Shared\n  , _extends({}, filledProps, {\n    // Ref\n    ref: selectorRef // Icon\n    ,\n    suffixIcon: suffixIcon // Active\n    ,\n    activeIndex: focused || mergedOpen ? activeIndex : null,\n    activeHelp: !!internalHoverValues,\n    allHelp: !!internalHoverValues && hoverSource === 'preset',\n    focused: focused,\n    onFocus: onSelectorFocus,\n    onBlur: onSelectorBlur,\n    onKeyDown: onSelectorKeyDown,\n    onSubmit: triggerPartConfirm // Change\n    ,\n    value: hoverValues,\n    maskFormat: maskFormat,\n    onChange: onSelectorChange,\n    onInputChange: onSelectorInputChange // Format\n    ,\n    format: formatList,\n    inputReadOnly: inputReadOnly // Disabled\n    ,\n    disabled: disabled // Open\n    ,\n    open: mergedOpen,\n    onOpenChange: triggerOpen // Click\n    ,\n    onClick: onSelectorClick,\n    onClear: onSelectorClear // Invalid\n    ,\n    invalid: submitInvalidates,\n    onInvalid: onSelectorInvalid // Offset\n    ,\n    onActiveOffset: setActiveOffset\n  }))));\n}\n\nvar RefRangePicker = /*#__PURE__*/React.forwardRef(RangePicker);\n\nif (process.env.NODE_ENV !== 'production') {\n  RefRangePicker.displayName = 'RefRangePicker';\n}\n\nexport default RefRangePicker;","map":{"version":3,"names":["_extends","_toConsumableArray","_objectSpread","_slicedToArray","useEvent","useMergedState","useLayoutEffect","omit","pickAttrs","warning","React","PickerTrigger","pickTriggerProps","fillIndex","toArray","PickerContext","useCellRender","useFieldsInvalidate","useFilledProps","useOpen","usePickerRef","usePresets","useRangeActive","useRangeDisabledDate","useRangePickerValue","useRangeValue","useInnerValue","useShowNow","Popup","RangeSelector","separateConfig","config","defaultConfig","singleConfig","Array","isArray","getActiveRange","activeIndex","RangePicker","props","ref","_useFilledProps","disabled","allowEmpty","mergedDisabled","mergedAllowEmpty","_useFilledProps2","filledProps","internalPicker","complexPicker","formatList","maskFormat","isInvalidateDate","prefixCls","styles","classNames","defaultValue","value","needConfirm","onKeyDown","disabledDate","minDate","maxDate","defaultOpen","open","onOpenChange","locale","generateConfig","picker","showNow","showToday","showTime","mode","onPanelChange","onCalendarChange","onOk","defaultPickerValue","pickerValue","onPickerValueChange","inputReadOnly","suffixIcon","onFocus","onBlur","presets","ranges","components","cellRender","dateRender","monthCellRender","onClick","selectorRef","_useOpen","_useOpen2","mergedOpen","setMergeOpen","triggerOpen","nextOpen","some","fieldDisabled","_useInnerValue","_useInnerValue2","mergedValue","setInnerValue","getCalendarValue","triggerCalendarChange","triggerOk","calendarValue","_useRangeActive","_useRangeActive2","focused","triggerFocus","lastOperation","setActiveIndex","nextActiveIndex","activeIndexList","onSharedFocus","event","index","range","onSharedBlur","mergedShowTime","useMemo","disabledTime","proxyDisabledTime","date","undefined","_useMergedState","_useMergedState2","modes","setModes","mergedMode","internalMode","multiplePanel","mergedShowNow","_useRangeValue","_useRangeValue2","flushSubmit","triggerSubmitChange","mergedDisabledDate","_useFieldsInvalidate","_useFieldsInvalidate2","submitInvalidates","onSelectorInvalid","_useRangePickerValue","defaultOpenValue","_useRangePickerValue2","currentPickerValue","setCurrentPickerValue","triggerModeChange","nextPickerValue","nextMode","triggerEvent","clone","clonePickerValue","fillCalendarValue","triggerPartConfirm","skipFocus","nextValue","nextIndex","force","current","focus","onSelectorClick","nativeElement","contains","document","activeElement","enabledIndex","findIndex","d","onSelectorClear","_React$useState","useState","_React$useState2","hoverSource","setHoverSource","_React$useState3","_React$useState4","internalHoverValues","setInternalHoverValues","hoverValues","useEffect","_React$useState5","_React$useState6","activeOffset","setActiveOffset","presetList","onPresetHover","nextValues","onPresetSubmit","passed","onNow","now","onPanelHover","onPanelFocus","onPanelSelect","onPopupClose","onInternalCellRender","panelValue","isPopupInvalidateDate","panelProps","domProps","restProps","concat","Object","keys","panel","createElement","format","isInvalid","onChange","onSelect","hoverValue","onHover","onSubmit","onSelectorChange","onSelectorInputChange","onSelectorFocus","inherit","onSelectorBlur","onSelectorKeyDown","preventDefault","key","context","button","input","lastOp","process","env","NODE_ENV","isIndexEmpty","Provider","popupElement","popupStyle","popup","popupClassName","visible","onClose","activeHelp","allHelp","onInputChange","onClear","invalid","onInvalid","onActiveOffset","RefRangePicker","forwardRef","displayName"],"sources":["/Users/joji/Downloads/react-cutioluis-main copy/node_modules/rc-picker/es/PickerInput/RangePicker.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEvent, useMergedState } from 'rc-util';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport omit from \"rc-util/es/omit\";\nimport pickAttrs from \"rc-util/es/pickAttrs\";\nimport warning from \"rc-util/es/warning\";\nimport * as React from 'react';\nimport PickerTrigger from \"../PickerTrigger\";\nimport { pickTriggerProps } from \"../PickerTrigger/util\";\nimport { fillIndex, toArray } from \"../utils/miscUtil\";\nimport PickerContext from \"./context\";\nimport useCellRender from \"./hooks/useCellRender\";\nimport useFieldsInvalidate from \"./hooks/useFieldsInvalidate\";\nimport useFilledProps from \"./hooks/useFilledProps\";\nimport useOpen from \"./hooks/useOpen\";\nimport usePickerRef from \"./hooks/usePickerRef\";\nimport usePresets from \"./hooks/usePresets\";\nimport useRangeActive from \"./hooks/useRangeActive\";\nimport useRangeDisabledDate from \"./hooks/useRangeDisabledDate\";\nimport useRangePickerValue from \"./hooks/useRangePickerValue\";\nimport useRangeValue, { useInnerValue } from \"./hooks/useRangeValue\";\nimport useShowNow from \"./hooks/useShowNow\";\nimport Popup from \"./Popup\";\nimport RangeSelector from \"./Selector/RangeSelector\";\nfunction separateConfig(config, defaultConfig) {\n  var singleConfig = config !== null && config !== void 0 ? config : defaultConfig;\n  if (Array.isArray(singleConfig)) {\n    return singleConfig;\n  }\n  return [singleConfig, singleConfig];\n}\n\n/** Used for change event, it should always be not undefined */\n\nfunction getActiveRange(activeIndex) {\n  return activeIndex === 1 ? 'end' : 'start';\n}\nfunction RangePicker(props, ref) {\n  // ========================= Prop =========================\n  var _useFilledProps = useFilledProps(props, function () {\n      var disabled = props.disabled,\n        allowEmpty = props.allowEmpty;\n      var mergedDisabled = separateConfig(disabled, false);\n      var mergedAllowEmpty = separateConfig(allowEmpty, false);\n      return {\n        disabled: mergedDisabled,\n        allowEmpty: mergedAllowEmpty\n      };\n    }),\n    _useFilledProps2 = _slicedToArray(_useFilledProps, 6),\n    filledProps = _useFilledProps2[0],\n    internalPicker = _useFilledProps2[1],\n    complexPicker = _useFilledProps2[2],\n    formatList = _useFilledProps2[3],\n    maskFormat = _useFilledProps2[4],\n    isInvalidateDate = _useFilledProps2[5];\n  var prefixCls = filledProps.prefixCls,\n    styles = filledProps.styles,\n    classNames = filledProps.classNames,\n    defaultValue = filledProps.defaultValue,\n    value = filledProps.value,\n    needConfirm = filledProps.needConfirm,\n    onKeyDown = filledProps.onKeyDown,\n    disabled = filledProps.disabled,\n    allowEmpty = filledProps.allowEmpty,\n    disabledDate = filledProps.disabledDate,\n    minDate = filledProps.minDate,\n    maxDate = filledProps.maxDate,\n    defaultOpen = filledProps.defaultOpen,\n    open = filledProps.open,\n    onOpenChange = filledProps.onOpenChange,\n    locale = filledProps.locale,\n    generateConfig = filledProps.generateConfig,\n    picker = filledProps.picker,\n    showNow = filledProps.showNow,\n    showToday = filledProps.showToday,\n    showTime = filledProps.showTime,\n    mode = filledProps.mode,\n    onPanelChange = filledProps.onPanelChange,\n    onCalendarChange = filledProps.onCalendarChange,\n    onOk = filledProps.onOk,\n    defaultPickerValue = filledProps.defaultPickerValue,\n    pickerValue = filledProps.pickerValue,\n    onPickerValueChange = filledProps.onPickerValueChange,\n    inputReadOnly = filledProps.inputReadOnly,\n    suffixIcon = filledProps.suffixIcon,\n    onFocus = filledProps.onFocus,\n    onBlur = filledProps.onBlur,\n    presets = filledProps.presets,\n    ranges = filledProps.ranges,\n    components = filledProps.components,\n    cellRender = filledProps.cellRender,\n    dateRender = filledProps.dateRender,\n    monthCellRender = filledProps.monthCellRender,\n    onClick = filledProps.onClick;\n\n  // ========================= Refs =========================\n  var selectorRef = usePickerRef(ref);\n\n  // ========================= Open =========================\n  var _useOpen = useOpen(open, defaultOpen, disabled, onOpenChange),\n    _useOpen2 = _slicedToArray(_useOpen, 2),\n    mergedOpen = _useOpen2[0],\n    setMergeOpen = _useOpen2[1];\n  var triggerOpen = function triggerOpen(nextOpen, config) {\n    // No need to open if all disabled\n    if (disabled.some(function (fieldDisabled) {\n      return !fieldDisabled;\n    }) || !nextOpen) {\n      setMergeOpen(nextOpen, config);\n    }\n  };\n\n  // ======================== Values ========================\n  var _useInnerValue = useInnerValue(generateConfig, locale, formatList, true, false, defaultValue, value, onCalendarChange, onOk),\n    _useInnerValue2 = _slicedToArray(_useInnerValue, 5),\n    mergedValue = _useInnerValue2[0],\n    setInnerValue = _useInnerValue2[1],\n    getCalendarValue = _useInnerValue2[2],\n    triggerCalendarChange = _useInnerValue2[3],\n    triggerOk = _useInnerValue2[4];\n  var calendarValue = getCalendarValue();\n\n  // ======================== Active ========================\n  var _useRangeActive = useRangeActive(disabled, allowEmpty),\n    _useRangeActive2 = _slicedToArray(_useRangeActive, 7),\n    focused = _useRangeActive2[0],\n    triggerFocus = _useRangeActive2[1],\n    lastOperation = _useRangeActive2[2],\n    activeIndex = _useRangeActive2[3],\n    setActiveIndex = _useRangeActive2[4],\n    nextActiveIndex = _useRangeActive2[5],\n    activeIndexList = _useRangeActive2[6];\n  var onSharedFocus = function onSharedFocus(event, index) {\n    triggerFocus(true);\n    onFocus === null || onFocus === void 0 || onFocus(event, {\n      range: getActiveRange(index !== null && index !== void 0 ? index : activeIndex)\n    });\n  };\n  var onSharedBlur = function onSharedBlur(event, index) {\n    triggerFocus(false);\n    onBlur === null || onBlur === void 0 || onBlur(event, {\n      range: getActiveRange(index !== null && index !== void 0 ? index : activeIndex)\n    });\n  };\n\n  // ======================= ShowTime =======================\n  var mergedShowTime = React.useMemo(function () {\n    if (!showTime) {\n      return null;\n    }\n    var disabledTime = showTime.disabledTime;\n    var proxyDisabledTime = disabledTime ? function (date) {\n      var range = getActiveRange(activeIndex);\n      return disabledTime(date, range);\n    } : undefined;\n    return _objectSpread(_objectSpread({}, showTime), {}, {\n      disabledTime: proxyDisabledTime\n    });\n  }, [showTime, activeIndex]);\n\n  // ========================= Mode =========================\n  var _useMergedState = useMergedState([picker, picker], {\n      value: mode\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    modes = _useMergedState2[0],\n    setModes = _useMergedState2[1];\n  var mergedMode = modes[activeIndex] || picker;\n\n  /** Extends from `mergedMode` to patch `datetime` mode */\n  var internalMode = mergedMode === 'date' && mergedShowTime ? 'datetime' : mergedMode;\n\n  // ====================== PanelCount ======================\n  var multiplePanel = internalMode === picker && internalMode !== 'time';\n\n  // ======================= Show Now =======================\n  var mergedShowNow = useShowNow(picker, mergedMode, showNow, showToday, true);\n\n  // ======================== Value =========================\n  var _useRangeValue = useRangeValue(filledProps, mergedValue, setInnerValue, getCalendarValue, triggerCalendarChange, disabled, formatList, focused, mergedOpen, isInvalidateDate),\n    _useRangeValue2 = _slicedToArray(_useRangeValue, 2),\n    /** Trigger `onChange` by check `disabledDate` */\n    flushSubmit = _useRangeValue2[0],\n    /** Trigger `onChange` directly without check `disabledDate` */\n    triggerSubmitChange = _useRangeValue2[1];\n\n  // ===================== DisabledDate =====================\n  var mergedDisabledDate = useRangeDisabledDate(calendarValue, disabled, activeIndexList, generateConfig, locale, disabledDate);\n\n  // ======================= Validate =======================\n  var _useFieldsInvalidate = useFieldsInvalidate(calendarValue, isInvalidateDate, allowEmpty),\n    _useFieldsInvalidate2 = _slicedToArray(_useFieldsInvalidate, 2),\n    submitInvalidates = _useFieldsInvalidate2[0],\n    onSelectorInvalid = _useFieldsInvalidate2[1];\n\n  // ===================== Picker Value =====================\n  var _useRangePickerValue = useRangePickerValue(generateConfig, locale, calendarValue, modes, mergedOpen, activeIndex, internalPicker, multiplePanel, defaultPickerValue, pickerValue, mergedShowTime === null || mergedShowTime === void 0 ? void 0 : mergedShowTime.defaultOpenValue, onPickerValueChange, minDate, maxDate),\n    _useRangePickerValue2 = _slicedToArray(_useRangePickerValue, 2),\n    currentPickerValue = _useRangePickerValue2[0],\n    setCurrentPickerValue = _useRangePickerValue2[1];\n\n  // >>> Mode need wait for `pickerValue`\n  var triggerModeChange = useEvent(function (nextPickerValue, nextMode, triggerEvent) {\n    var clone = fillIndex(modes, activeIndex, nextMode);\n    if (clone[0] !== modes[0] || clone[1] !== modes[1]) {\n      setModes(clone);\n    }\n\n    // Compatible with `onPanelChange`\n    if (onPanelChange && triggerEvent !== false) {\n      var clonePickerValue = _toConsumableArray(calendarValue);\n      if (nextPickerValue) {\n        clonePickerValue[activeIndex] = nextPickerValue;\n      }\n      onPanelChange(clonePickerValue, clone);\n    }\n  });\n\n  // ======================== Change ========================\n  var fillCalendarValue = function fillCalendarValue(date, index) {\n    return (\n      // Trigger change only when date changed\n      fillIndex(calendarValue, index, date)\n    );\n  };\n\n  // ======================== Submit ========================\n  /**\n   * Trigger by confirm operation.\n   * This function has already handle the `needConfirm` check logic.\n   * - Selector: enter key\n   * - Panel: OK button\n   */\n  var triggerPartConfirm = function triggerPartConfirm(date, skipFocus) {\n    var nextValue = calendarValue;\n    if (date) {\n      nextValue = fillCalendarValue(date, activeIndex);\n    }\n\n    // Get next focus index\n    var nextIndex = nextActiveIndex(nextValue);\n\n    // Change calendar value and tell flush it\n    triggerCalendarChange(nextValue);\n    flushSubmit(activeIndex, nextIndex === null);\n    if (nextIndex === null) {\n      triggerOpen(false, {\n        force: true\n      });\n    } else if (!skipFocus) {\n      selectorRef.current.focus({\n        index: nextIndex\n      });\n    }\n  };\n\n  // ======================== Click =========================\n  var onSelectorClick = function onSelectorClick(event) {\n    if (!selectorRef.current.nativeElement.contains(document.activeElement)) {\n      // Click to focus the enabled input\n      var enabledIndex = disabled.findIndex(function (d) {\n        return !d;\n      });\n      if (enabledIndex >= 0) {\n        selectorRef.current.focus({\n          index: enabledIndex\n        });\n      }\n    }\n    triggerOpen(true);\n    onClick === null || onClick === void 0 || onClick(event);\n  };\n  var onSelectorClear = function onSelectorClear() {\n    triggerSubmitChange(null);\n    triggerOpen(false, {\n      force: true\n    });\n  };\n\n  // ======================== Hover =========================\n  var _React$useState = React.useState(null),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    hoverSource = _React$useState2[0],\n    setHoverSource = _React$useState2[1];\n  var _React$useState3 = React.useState(null),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    internalHoverValues = _React$useState4[0],\n    setInternalHoverValues = _React$useState4[1];\n  var hoverValues = React.useMemo(function () {\n    return internalHoverValues || calendarValue;\n  }, [calendarValue, internalHoverValues]);\n\n  // Clean up `internalHoverValues` when closed\n  React.useEffect(function () {\n    if (!mergedOpen) {\n      setInternalHoverValues(null);\n    }\n  }, [mergedOpen]);\n\n  // ========================================================\n  // ==                       Panels                       ==\n  // ========================================================\n  // Save the offset with active bar position\n  var _React$useState5 = React.useState(0),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    activeOffset = _React$useState6[0],\n    setActiveOffset = _React$useState6[1];\n\n  // ======================= Presets ========================\n  var presetList = usePresets(presets, ranges);\n  var onPresetHover = function onPresetHover(nextValues) {\n    setInternalHoverValues(nextValues);\n    setHoverSource('preset');\n  };\n  var onPresetSubmit = function onPresetSubmit(nextValues) {\n    var passed = triggerSubmitChange(nextValues);\n    if (passed) {\n      triggerOpen(false, {\n        force: true\n      });\n    }\n  };\n  var onNow = function onNow(now) {\n    triggerPartConfirm(now);\n  };\n\n  // ======================== Panel =========================\n  var onPanelHover = function onPanelHover(date) {\n    setInternalHoverValues(date ? fillCalendarValue(date, activeIndex) : null);\n    setHoverSource('cell');\n  };\n\n  // >>> Focus\n  var onPanelFocus = function onPanelFocus(event) {\n    triggerOpen(true);\n    onSharedFocus(event);\n  };\n\n  // >>> Calendar\n  var onPanelSelect = function onPanelSelect(date) {\n    lastOperation('panel');\n    var clone = fillIndex(calendarValue, activeIndex, date);\n\n    // Only trigger calendar event but not update internal `calendarValue` state\n    triggerCalendarChange(clone);\n\n    // >>> Trigger next active if !needConfirm\n    // Fully logic check `useRangeValue` hook\n    if (!needConfirm && !complexPicker && internalPicker === internalMode) {\n      triggerPartConfirm(date);\n    }\n  };\n\n  // >>> Close\n  var onPopupClose = function onPopupClose() {\n    // Close popup\n    triggerOpen(false);\n  };\n\n  // >>> cellRender\n  var onInternalCellRender = useCellRender(cellRender, dateRender, monthCellRender, getActiveRange(activeIndex));\n\n  // >>> Value\n  var panelValue = calendarValue[activeIndex] || null;\n\n  // >>> invalid\n  var isPopupInvalidateDate = useEvent(function (date) {\n    return isInvalidateDate(date, {\n      activeIndex: activeIndex\n    });\n  });\n  var panelProps = React.useMemo(function () {\n    var domProps = pickAttrs(filledProps, false);\n    var restProps = omit(filledProps, [].concat(_toConsumableArray(Object.keys(domProps)), ['onChange', 'onCalendarChange', 'style', 'className', 'onPanelChange']));\n    return restProps;\n  }, [filledProps]);\n\n  // >>> Render\n  var panel = /*#__PURE__*/React.createElement(Popup, _extends({}, panelProps, {\n    showNow: mergedShowNow,\n    showTime: mergedShowTime\n    // Range\n    ,\n    range: true,\n    multiplePanel: multiplePanel,\n    activeOffset: activeOffset\n    // Disabled\n    ,\n    disabledDate: mergedDisabledDate\n    // Focus\n    ,\n    onFocus: onPanelFocus,\n    onBlur: onSharedBlur\n    // Mode\n    ,\n    picker: picker,\n    mode: mergedMode,\n    internalMode: internalMode,\n    onPanelChange: triggerModeChange\n    // Value\n    ,\n    format: maskFormat,\n    value: panelValue,\n    isInvalid: isPopupInvalidateDate,\n    onChange: null,\n    onSelect: onPanelSelect\n    // PickerValue\n    ,\n    pickerValue: currentPickerValue,\n    defaultOpenValue: toArray(showTime === null || showTime === void 0 ? void 0 : showTime.defaultOpenValue)[activeIndex],\n    onPickerValueChange: setCurrentPickerValue\n    // Hover\n    ,\n    hoverValue: hoverValues,\n    onHover: onPanelHover\n    // Submit\n    ,\n    needConfirm: needConfirm,\n    onSubmit: triggerPartConfirm,\n    onOk: triggerOk\n    // Preset\n    ,\n    presets: presetList,\n    onPresetHover: onPresetHover,\n    onPresetSubmit: onPresetSubmit\n    // Now\n    ,\n    onNow: onNow\n    // Render\n    ,\n    cellRender: onInternalCellRender\n  }));\n\n  // ========================================================\n  // ==                      Selector                      ==\n  // ========================================================\n\n  // ======================== Change ========================\n  var onSelectorChange = function onSelectorChange(date, index) {\n    var clone = fillCalendarValue(date, index);\n    triggerCalendarChange(clone);\n  };\n  var onSelectorInputChange = function onSelectorInputChange() {\n    lastOperation('input');\n  };\n\n  // ======================= Selector =======================\n  var onSelectorFocus = function onSelectorFocus(event, index) {\n    lastOperation('input');\n    triggerOpen(true, {\n      inherit: true\n    });\n    setActiveIndex(index);\n    onSharedFocus(event, index);\n  };\n  var onSelectorBlur = function onSelectorBlur(event, index) {\n    triggerOpen(false);\n    onSharedBlur(event, index);\n  };\n  var onSelectorKeyDown = function onSelectorKeyDown(event, preventDefault) {\n    if (event.key === 'Tab') {\n      triggerPartConfirm(null, true);\n    }\n    onKeyDown === null || onKeyDown === void 0 || onKeyDown(event, preventDefault);\n  };\n\n  // ======================= Context ========================\n  var context = React.useMemo(function () {\n    return {\n      prefixCls: prefixCls,\n      locale: locale,\n      generateConfig: generateConfig,\n      button: components.button,\n      input: components.input\n    };\n  }, [prefixCls, locale, generateConfig, components.button, components.input]);\n\n  // ======================== Effect ========================\n  // >>> Mode\n  // Reset for every active\n  useLayoutEffect(function () {\n    if (mergedOpen && activeIndex !== undefined) {\n      // Legacy compatible. This effect update should not trigger `onPanelChange`\n      triggerModeChange(null, picker, false);\n    }\n  }, [mergedOpen, activeIndex, picker]);\n\n  // >>> For complex picker, we need check if need to focus next one\n  useLayoutEffect(function () {\n    var lastOp = lastOperation();\n\n    // Trade as confirm on field leave\n    if (!mergedOpen && lastOp === 'input') {\n      triggerOpen(false);\n      triggerPartConfirm(null, true);\n    }\n\n    // Submit with complex picker\n    if (!mergedOpen && complexPicker && !needConfirm && lastOp === 'panel') {\n      triggerOpen(true);\n      triggerPartConfirm();\n    }\n  }, [mergedOpen]);\n\n  // ====================== DevWarning ======================\n  if (process.env.NODE_ENV !== 'production') {\n    var isIndexEmpty = function isIndexEmpty(index) {\n      return (\n        // Value is empty\n        !(value !== null && value !== void 0 && value[index]) &&\n        // DefaultValue is empty\n        !(defaultValue !== null && defaultValue !== void 0 && defaultValue[index])\n      );\n    };\n    if (disabled.some(function (fieldDisabled, index) {\n      return fieldDisabled && isIndexEmpty(index) && !allowEmpty[index];\n    })) {\n      warning(false, '`disabled` should not set with empty `value`. You should set `allowEmpty` or `value` instead.');\n    }\n  }\n\n  // ======================== Render ========================\n  return /*#__PURE__*/React.createElement(PickerContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(PickerTrigger, _extends({}, pickTriggerProps(filledProps), {\n    popupElement: panel,\n    popupStyle: styles.popup,\n    popupClassName: classNames.popup\n    // Visible\n    ,\n    visible: mergedOpen,\n    onClose: onPopupClose\n    // Range\n    ,\n    range: true\n  }), /*#__PURE__*/React.createElement(RangeSelector\n  // Shared\n  , _extends({}, filledProps, {\n    // Ref\n    ref: selectorRef\n    // Icon\n    ,\n    suffixIcon: suffixIcon\n    // Active\n    ,\n    activeIndex: focused || mergedOpen ? activeIndex : null,\n    activeHelp: !!internalHoverValues,\n    allHelp: !!internalHoverValues && hoverSource === 'preset',\n    focused: focused,\n    onFocus: onSelectorFocus,\n    onBlur: onSelectorBlur,\n    onKeyDown: onSelectorKeyDown,\n    onSubmit: triggerPartConfirm\n    // Change\n    ,\n    value: hoverValues,\n    maskFormat: maskFormat,\n    onChange: onSelectorChange,\n    onInputChange: onSelectorInputChange\n    // Format\n    ,\n    format: formatList,\n    inputReadOnly: inputReadOnly\n    // Disabled\n    ,\n    disabled: disabled\n    // Open\n    ,\n    open: mergedOpen,\n    onOpenChange: triggerOpen\n    // Click\n    ,\n    onClick: onSelectorClick,\n    onClear: onSelectorClear\n    // Invalid\n    ,\n    invalid: submitInvalidates,\n    onInvalid: onSelectorInvalid\n    // Offset\n    ,\n    onActiveOffset: setActiveOffset\n  }))));\n}\nvar RefRangePicker = /*#__PURE__*/React.forwardRef(RangePicker);\nif (process.env.NODE_ENV !== 'production') {\n  RefRangePicker.displayName = 'RefRangePicker';\n}\nexport default RefRangePicker;"],"mappings":"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"},"metadata":{},"sourceType":"module"}